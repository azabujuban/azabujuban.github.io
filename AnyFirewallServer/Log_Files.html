<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Log Files</title>
    <meta name="description" content="" />
    <meta name="author" content="Justin Walsh">
    <link rel="icon" href="../templates/default/themes/daux-blue/img/favicon-blue.png" type="image/x-icon">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='//fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='../templates/default/themes/daux-blue/css/daux-blue.css' rel='stylesheet' type='text/css'>
</head>
<body>
            <!-- Docs -->
                <div class="container-fluid fluid-height wrapper">
            <div class="navbar navbar-fixed-top hidden-print">
                <div class="container-fluid">
                    <a class="brand navbar-brand pull-left" href="../index">Eyeball product documentation</a>
                    <p class="navbar-text pull-right">Generated by <a href="http://daux.io">Daux.io</a></p>
                </div>
            </div>
            <div class="row columns content">
                <div class="left-column article-tree col-sm-3 hidden-print">
                    <!-- For Mobile -->
                    <div class="responsive-collapse">
                        <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div id="sub-nav-collapse" class="sub-nav-collapse">
                        <!-- Navigation -->
                        <ul class="nav nav-list"><li><a href="../Getting_Started.html">Getting Started</a></li><li class="open"><a href="../AnyFirewallServer/index.html" class="folder">AnyFirewallServer</a><ul class="nav nav-list"><li><a href="../AnyFirewallServer/Introduction.html">Introduction</a></li><li><a href="../AnyFirewallServer/Features.html">Features</a></li><li><a href="../AnyFirewallServer/System_Requirements.html">System Requirements</a></li><li><a href="../AnyFirewallServer/Installation.html">Installation</a></li><li><a href="../AnyFirewallServer/Configuration.html">Configuration</a></li><li><a href="../AnyFirewallServer/TLS.html">TLS</a></li><li><a href="../AnyFirewallServer/Security.html">Security</a></li><li><a href="../AnyFirewallServer/Command_Line_Arguments.html">Command Line Arguments</a></li><li><a href="../AnyFirewallServer/Starting_and_Stopping.html">Starting and Stopping</a></li><li><a href="../AnyFirewallServer/Command_Line_Interface.html">Command Line Interface</a></li><li><a href="../AnyFirewallServer/User_Provisioning.html">User Provisioning</a></li><li><a href="../AnyFirewallServer/Database.html">Database</a></li><li class="active"><a href="../AnyFirewallServer/Log_Files.html">Log Files</a></li><li><a href="../AnyFirewallServer/Defaults.html">Defaults</a></li><li><a href="../AnyFirewallServer/Troubleshooting.html">Troubleshooting</a></li></ul></li><li><a href="#" class="aj-nav folder">XMPP Server</a><ul class="nav nav-list"></ul></li><li><a href="#" class="aj-nav folder">AnyFirewallEngine</a><ul class="nav nav-list"></ul></li></ul>                                                    <div class="well well-sidebar">

                                <!-- Links -->
                                <a href="http://www.eyeball.com" target="_blank">About Eyeball</a><br>                                
                                <!-- Twitter -->
                                                                    <div class="twitter">
                                        <hr/>
                                        <iframe allowtransparency="true" frameborder="0" scrolling="no" style="width:162px; height:20px;" src="https://platform.twitter.com/widgets/follow_button.html?screen_name=eyeballnetworks&amp;show_count=false"></iframe>
                                    </div>
                                                            </div>
                                            </div>
                </div>
                <div class="right-column float-view content-area col-sm-9">
                    <div class="content-page">
                        <article>
                                                            <div class="page-header sub-header clearfix">
                                    <h1><a href="../AnyFirewallServer">AnyFirewallServer</a>: <a href="../AnyFirewallServer/Log_Files.html">Log Files</a>                                                                            </h1>
                                    <span style="float: left; font-size: 10px; color: gray;">
                                        Friday, November 14, 2014                                    </span>
                                    <span style="float: right; font-size: 10px; color: gray;">
                                        5:31 PM                                    </span>
                                </div>
                            
                            <p>The AnyFirewall&trade; Server writes messages to the log file. By default, the log file is written to <code>/var/log/afwd.log</code>.</p>
<hr />
<p><strong>Note:</strong> Writing to <code>/var/log/afwd.log</code> may require root privileges. Make sure that afwd is run with the proper user privileges to write to the log file. The location of the log file can also be specified in the <code>afwd.conf</code> configuration file with the <code>log_file</code> parameter.</p>
<hr />
<p>Depending on the verbosity level <code>0</code> to <code>5</code>, the log file may grow slowly or quickly in size. At verbosity level <code>0</code>, only important messages or critical errors are logged. At verbosity level <code>5</code>, multiple messages per request are logged in order to aid debugging. The recommended and default verbosity level is <code>2</code>, but can be changed using the <code>-v</code> command line argument on startup, as well as the verbose command in the command line interface.</p>
<p>When the log file grows too large, it may exceed the operating system file size limit, which may be 2GB in certain cases. This may cause the server to stop working, and block the system from writing to the log file. As well, large log files may take a long time to load and to browse through. Rotating the log file solves this problem by renaming the current log file with a number appended, and opening a new log file to be written to.</p>
<p>The server automatically rotates the log file periodically, depending on the size of the current log file. This eliminates the need for a server administrator to rotate the logs periodically, although it is still possible to rotate the log file by issuing the <code>rotate log</code> command in the command line interface. The automatic log rotation is configured by the <code>log_max_file_size</code> and <code>log_max_file_count</code> parameters in the <code>afwd.conf</code> configuration file. By default, the log is rotated when it reaches 10 MB and a maximum of 100 log files are stored. When the maximum number of log files is reached, the server will overwrite log files in a cyclical manner. In other words, the server will write to <code>afwd.log.000099</code>, <code>afwd.log.0000100</code>, and then <code>afwd.log.0000001</code>, <code>afwd.log.0000002</code>, and so on. This way, the last 1 GB of logs are preserved. While it may be confusing that <code>afwd.log.0000002</code> can be more recently updated than <code>afwd.log.0000050</code>, the sequence of the log files can be determined by checking the time and date of the log files:</p>
<pre><code>ls -l afwd.log.*</code></pre>                                                    </article>
                    </div>
                </div>
            </div>
        </div>
    
                <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-12653604-10', '');ga('send', 'pageview');</script>    

    <!-- jQuery -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined')
                document.write(unescape("%3Cscript src='../js/jquery-1.11.0.min.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
    
    <!-- hightlight.js -->
    <script src="../js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <!-- Front end file editor -->
        <script src="../js/custom.js"></script>
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</body>
</html>

