<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Features</title>
    <meta name="description" content="" />
    <meta name="author" content="Justin Walsh">
    <link rel="icon" href="../templates/default/themes/daux-blue/img/favicon-blue.png" type="image/x-icon">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='//fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='../templates/default/themes/daux-blue/css/daux-blue.css' rel='stylesheet' type='text/css'>
</head>
<body>
            <!-- Docs -->
                <div class="container-fluid fluid-height wrapper">
            <div class="navbar navbar-fixed-top hidden-print">
                <div class="container-fluid">
                    <a class="brand navbar-brand pull-left" href="../index">Eyeball product documentation</a>
                    <p class="navbar-text pull-right">Generated by <a href="http://daux.io">Daux.io</a></p>
                </div>
            </div>
            <div class="row columns content">
                <div class="left-column article-tree col-sm-3 hidden-print">
                    <!-- For Mobile -->
                    <div class="responsive-collapse">
                        <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div id="sub-nav-collapse" class="sub-nav-collapse">
                        <!-- Navigation -->
                        <ul class="nav nav-list"><li><a href="../Getting_Started.html">Getting Started</a></li><li class="open"><a href="../AnyFirewallServer/index.html" class="folder">AnyFirewallServer</a><ul class="nav nav-list"><li><a href="../AnyFirewallServer/Introduction.html">Introduction</a></li><li class="active"><a href="../AnyFirewallServer/Features.html">Features</a></li><li><a href="../AnyFirewallServer/System_Requirements.html">System Requirements</a></li><li><a href="../AnyFirewallServer/Installation.html">Installation</a></li><li><a href="../AnyFirewallServer/Configuration.html">Configuration</a></li><li><a href="../AnyFirewallServer/TLS.html">TLS</a></li><li><a href="../AnyFirewallServer/Security.html">Security</a></li><li><a href="../AnyFirewallServer/Command_Line_Arguments.html">Command Line Arguments</a></li><li><a href="../AnyFirewallServer/Starting_and_Stopping.html">Starting and Stopping</a></li><li><a href="../AnyFirewallServer/Command_Line_Interface.html">Command Line Interface</a></li><li><a href="../AnyFirewallServer/User_Provisioning.html">User Provisioning</a></li><li><a href="../AnyFirewallServer/Database.html">Database</a></li><li><a href="../AnyFirewallServer/Log_Files.html">Log Files</a></li><li><a href="../AnyFirewallServer/Defaults.html">Defaults</a></li><li><a href="../AnyFirewallServer/Troubleshooting.html">Troubleshooting</a></li></ul></li><li><a href="#" class="aj-nav folder">XMPP Server</a><ul class="nav nav-list"></ul></li><li><a href="#" class="aj-nav folder">AnyFirewallEngine</a><ul class="nav nav-list"></ul></li></ul>                                                    <div class="well well-sidebar">

                                <!-- Links -->
                                <a href="http://www.eyeball.com" target="_blank">About Eyeball</a><br>                                
                                <!-- Twitter -->
                                                                    <div class="twitter">
                                        <hr/>
                                        <iframe allowtransparency="true" frameborder="0" scrolling="no" style="width:162px; height:20px;" src="https://platform.twitter.com/widgets/follow_button.html?screen_name=eyeballnetworks&amp;show_count=false"></iframe>
                                    </div>
                                                            </div>
                                            </div>
                </div>
                <div class="right-column float-view content-area col-sm-9">
                    <div class="content-page">
                        <article>
                                                            <div class="page-header sub-header clearfix">
                                    <h1><a href="../AnyFirewallServer">AnyFirewallServer</a>: <a href="../AnyFirewallServer/Features.html">Features</a>                                                                            </h1>
                                    <span style="float: left; font-size: 10px; color: gray;">
                                        Friday, November 14, 2014                                    </span>
                                    <span style="float: right; font-size: 10px; color: gray;">
                                        5:31 PM                                    </span>
                                </div>
                            
                            <h2>Overview</h2>
<p>The Eyeball AnyFirewall&trade; Server (AFS) enables clients behind firewalls to communicate with peers.  The STUN protocol enables a client to learn its NAT firewall type, and to determine the best way to communicate with peers.  If a client can communicate directly with a peer, without using the AnyFirewall&trade; Server to relay data, that may often be preferred; however, in the cases when this is not possible, clients may allocate ports on the server. These ports can then be used to send and receive data to/from peers that the client may have otherwise been unable to communicate with due to the NAT firewall the client is behind.</p>
<hr />
<p><strong>Note:</strong> The AnyFirewall&trade; Server supports UDP, TCP and TLS for relaying</pre></p>
<hr />
<p>Protocols and protocol translation supported by AFS:</p>
<ol>
<li>UDP from the client
<ul>
<li>UDP to the peer</li>
</ul></li>
<li>TCP from the client
<ul>
<li>UDP or TCP to the peer</li>
</ul></li>
<li>TLS from the client
<ul>
<li>UDP or TCP or TLS to the peer</li>
</ul></li>
</ol>
<p>The server can be used in combination with other components in a VoIP deployment such as SIP proxies, gateways, softswitches or application servers. Used in combination with soft clients such as Eyeball Messenger SDK, based on the Eyeball AnyFirewall&trade; Engine, AnyFirewall&trade; Server interacts seamlessly with media servers and media relays.</p>
<p>While the main area of application is voice-over-IP, the AnyFirewall&trade; Server can be used to support firewall traversal for other applications such as distributed gaming platforms or file sharing/file transfer applications.</p>
<p>A sample data flow using the AnyFirewall&trade; server with two SIP softclients is outlined in figure 1. Client applications - such as those equipped with Eyeball AnyFirewall&trade; Engine - use the server to detect their public IP address and port (using STUN) or to allocate ports for relaying data.</p>
<p><img alt="AFS diagram" src="../img/F1_afwserver.jpg" title="AFS diagram" /></p>
<h2>Clustering</h2>
<p>The Eyeball AnyFirewall&trade; Server can be clustered using DNS SRV as a load balancing mechanism.</p>
<hr />
<p><strong>Note:</strong>
In order to add an AnyFirewall&trade; Server to the cluster, it is sufficient to add another server machine and allow clients to connect to the new server. All AnyFirewall&trade; Servers should use the same database to allow information to be shared among servers</p>
<hr />
<h2>Security</h2>
<p>The Eyeball AnyFirewall&trade; Server prevents unauthorized access to its resources by requiring a shared username/password mechanism between server and clients. Any allocation of resources on the AnyFirewall&trade; Server requires authentication.</p>
<p>The authentication mechanism is based on long term credentials, as defined by STUN. Long term credentials (username and password) are stored in the database (in the account table, see <a href="index.md#Database">Database Tables</a>) and are usually generated by a provisioning system when an account for a user is setup. In a typical application environment, those username and passwords are the same as on a SIP proxy.</p>
<h2>Bandwidth Throttling</h2>
<p>Traffic for a user is throttled using a common token bucket algorithm that allows for short-term traffic bursts, but prevents a user from misusing server resources. If such throttling is not required, the parameter <code>enable_token_per_user_throttling</code> in the config file should be set to <code>no</code>. This throttling can be controlled with the help of config parameters <code>user_token_per_second</code> and <code>user_bucket_duration</code>.</p>
<p>Similarly, there is a provision for the server's overall throttling as well. This behavior is controlled by config parameter <code>server_token_per_second</code> and <code>server_bucket_duration</code>.</p>
<h2>Wiretapping</h2>
<p>Due to the increasing demands on ISPs to employ wiretapping, Eyeball AnyFirewall&trade; Server enables an ISP to save the traffic of certain users, which can also easily be associated with the source, destination, time, and duration of the call.</p>
<p>The traffic for each wiretapped call is stored in two files: one for each direction. The location of the files is determined by the <code>wiretap_dir</code> option in the server's configuration file (see <a href="index.md#stun-relay-configuration">Stun Relay Configuration</a>). The format of the name of each file is as follows:</p>
<pre><code>&lt;User&gt;-&lt;CurrentTime&gt;-&lt;SourceIP&gt;-&lt;DestinationIP&gt;-&lt;DestinationPort&gt;.topeer.tap
&lt;User&gt;-&lt;CurrentTime&gt;-&lt;SourceIP&gt;-&lt;DestinationIP&gt;-&lt;DestinationPort&gt;-toclient.tap</code></pre>
<h3>Eyeball Server Management</h3>
<hr />
<p><strong>Note:</strong>
Eyeball AnyFirewall&trade; Server comes packaged with Eyeball Server Management, a web-based application that simplifies the administration and monitoring of the server products from Eyeball Networks, including the Eyeball AnyFirewall&trade; Server, SIP Proxy Server, and XMPP Server</p>
<hr />
<p>There are three different components of the ESM:</p>
<ol>
<li>User Administration: add, remove, or disable user accounts, modify account settings, and view usage statistics for an account</li>
<li>Server Statistics: provides service usage statistics for servers</li>
<li>Server Monitoring: provides real-time state and load information about your company's servers</li>
</ol>                                                    </article>
                    </div>
                </div>
            </div>
        </div>
    
                <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-12653604-10', '');ga('send', 'pageview');</script>    

    <!-- jQuery -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined')
                document.write(unescape("%3Cscript src='../js/jquery-1.11.0.min.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
    
    <!-- hightlight.js -->
    <script src="../js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <!-- Front end file editor -->
        <script src="../js/custom.js"></script>
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</body>
</html>

